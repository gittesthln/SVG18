%-*- coding: utf-8 -*-
\chapter{CSSについて}\label{CSSdefs}
カスケーディングスタイルシート(CSS)はHTML文書の要素の表示方法を指定する
ものです。CSSはJavaScriptからも制御できます。

文書のある要素に適用されるスタイルルールは、複数の異なるルールを結合(カ
スケード)したものです。
スタイルを適用するためには要素を選択するセレクタで選びます。

表\ref{CSS3selector}はCSS3におけるセレクタを記述したものです
\footnote{\protect\texttt{http://www.w3.org/TR/selectors/}より引用。}。
\begin{longtable}{|m{13em}|m{30zw}|}
 \caption{CSS3のセレクタ}\label{CSS3selector}\\
\hline
\multicolumn{1}{|c|}{セレクタ}&\multicolumn{1}{c|}{解説}\\\hline
\endfirsthead
 \caption{CSS3のセレクタ(続き)}\\
\hline
\multicolumn{1}{|c|}{セレクタ}&\multicolumn{1}{c|}{解説}\\\hline
\endhead
\multicolumn{2}{r}{次ページへ続く}
\endfoot
\hline
\endlastfoot
\verb+*+&任意の要素%&Universal selector&2
\\\hline
\verb+E+&タイプが \verb+E+ の要素%&Type selector&1
\\\hline
\verb+E[foo]+&タイプが \verb+E+ で属性 \verb+"foo"+ を持つ要素%&Attribute
	 %selectors
\\\hline
\verb+E[foo="bar"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     \verb+"bar"+である要素%&Attribute selectors
\\\hline
\verb+E[foo~="bar"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     スペースで区切られたリストでその一つが \verb+"bar"+である要素%&Attribute selectors
\\\hline
\verb+E[foo^="bar"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     \verb+"bar"+で始まる要素
%&Attribute selectors
\\\hline
\verb+E[foo$="bar"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     \verb+"bar"+で終わる要素%&Attribute selectors
\\\hline
\verb+E[foo*="bar"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     \verb+"bar"+を含む要素%&Attribute selectors
\\\hline
\verb+E[foo|="en"]+&タイプが \verb+E+ で属性 \verb+"foo"+ の属性値が
     ハイフンで区切られたリストでその一つが \verb+"en"+で始まる要素
     %&Attribute selectors
\\\hline
\verb+E:root+&\texttt{document}のルート要素%&Structural
	 %pseudo-classes
\\\hline
\verb+E:nth-child(n)+&親から見て\texttt{n}番目の要素%&Structural pseudo-classes
\\\hline
\verb+E:nth-last-child(n)+&親から見て最後から数えて\texttt{n}番目の要素
     %&Structural pseudo-classes 
\\\hline
\verb+E:nth-of-type(n)+&そのタイプの\texttt{n}番目の要素%&Structural pseudo-classes
\\\hline
\verb+E:nth-last-of-type(n)+&そのタイプの最後から\texttt{n}番目の要素%&Structural pseudo-classes
\\\hline
\verb+E:first-child+&親から見て一番初めの子要素%&Structural
	 %pseudo-classes
\\\hline
\verb+E:last-child+&親から見て一番最後の子要素%&Structural　 %pseudo-classes
\\\hline
\verb+E:first-of-type+&親から見て初めてのタイプである要素%&Structural pseudo-classes
\\\hline
\verb+E:last-of-type+&親から見て最後のタイプである要素%&Structural
	 %pseudo-classes
\\\hline
\verb+E:only-child+&親から見てただ一つしかない子要素%&Structural
	 %pseudo-classes
\\\hline
\verb+E:only-of-type+&親から見てただ一つしかないタイプの要素%&Structural
	 %pseudo-classes
\\\hline
\verb+E:empty+&テキストノードを含めて子要素がない要素%&Structural pseudo-classes
\\\hline
\verb+E:link+, %\newline
\verb+E:visited+&まだ訪れたことがない(\texttt{:link})か訪れたことがある
     (\texttt{visited})ハイパーリンクのアンカーである要素%&The link pseudo-classes+&1
\\\hline
\verb+E:active+, %\newline
\verb+E:hover+, %\newline
\verb+E:focus+&ユーザーに操作されている状態中の要素%&The user action
	 %pseudo-classes+&1 and 2
\\\hline
\verb+E:target+&参照URIのターゲットである要素%&The
	 %target pseudo-class
\\\hline
%\verb+E:lang(fr)+&an element of type E in language "fr" (the document
%     language specifies how language is determined)%&The :lang()
	 %pseudo-class
%\\\hline
\verb+E:enabled+, %\newline
\verb+E:disabled+&使用可能(\texttt{:enable})か使用不可のユーザーインター
     フェイスの要素%&The UI element states pseudo-classes
\\\hline
\verb+E:checked+&チェックされているユーザーインターフェイスの要素%&The UI element states
	 %pseudo-classes
\\\hline
\verb+E::first-line+&要素のフォーマットされたはじめの行%&The
	 %::first-line pseudo-element+&1
\\\hline
\verb+E::first-letter+&要素のフォーマットされたはじめの行%&The
	 %::first-letter pseudo-element&1
\\\hline
\verb+E::before+&要素の前に生成されたコンテント%&The ::before
	 %pseudo-element
\\\hline
\verb+E::after+&要素の後に生成されたコンテント%&The ::after
	 %pseudo-element
\\\hline
\verb+E.warning+&属性\texttt{class} が "warning" である要素%&Class selectors&1
\\\hline
\verb+E#myid+&属性\texttt{id} の属性値が "myid" である要素%&ID selectors&1
\\\hline
\verb+E:not(s)+&単純なセレクタ \texttt{s} にマッチしない要素%&Negation pseudo-class
\\\hline
\verb+E F+&要素\texttt{E} の子孫である要素\texttt{F}%&Descendant
	 %combinator&1
\\\hline
\verb+E > F+&要素\texttt{E} の子である要素\texttt{F}%&Child combinator
\\\hline
\verb+E + F+&要素\texttt{E} の直後にある要素\texttt{F}%&Adjacent
	 %sibling combinator
\\\hline
\verb+E ~ F+&要素\texttt{E} の直前にある要素\texttt{F}%&General sibling
	 %combinator
\\\hline
\end{longtable}

いくつか注意する点を挙げます。
\begin{itemize}
 \item 属性\texttt{id}の属性値の前に\texttt{\#}をつけることでその要素が
       選ばれます。
 \item 属性\texttt{class}の属性値の前に\texttt{.}をつけることでその要素が
       選ばれます。
 \item \texttt{nth-child(n)}には単純な式を書くことができます。詳しくは実行
       例\ref{nth-child}を参照してください。このセレクタは複数書いても
       かまいません。
 \item \verb+E F+ と \verb+E > F+ の違いを理解しておくこと。たとえば
       \texttt{div div}というセレクタは途中に別の要素が挟まれていてもか
       まいません。また、\texttt{<div>}要素が3つある場合にはどのような2つの組み
       合わせも対象となります。
\end{itemize}

\begin{Problem}\upshape\label{nth-child}
次のHTML文書において\texttt{nth-child}の\texttt{()}内に次の式を入れた時
 どうなるか報告しなさい。ここで\texttt{<ol>}は箇条書きの開始を示す要素で
 あり、\texttt{<li>}は箇条書きの各項目を示す要素です。
\VerbatimInput{\CH 08-01nth-child.html}[firstnumber=1]
\begin{enumerate}
 \item \texttt{n}(ここでのリストの設定)
 \item \texttt{2n}
 \item \texttt{n+3}
 \item \texttt{-n+2}
\end{enumerate}
\end{Problem}
\begin{Problem}\upshape
前問のリストに対し、背景色が次のようになるようにCSSを設定しなさい。
\begin{enumerate}
 \item 偶数番目が黄色、基数番目がオレンジ色
 \item 1番目、4番目、\dots のように$3$で割ったとき、$1$ 余る位置が明るい
       グレー
 \item 4番目以下がピンク
 \item 下から2番目以下が緑色
\end{enumerate}
\end{Problem}
\iffalse
\begin{Problem}\upshape
 次の\HTML を考えます。
 \VerbatimInput{\CH css.html}[firstnumber=1]
 このリストで表示されるページは次のようになります。
 \begin{center}
 {\includegraphics[width=0.25\textwidth]{\CH css1.eps}}
 \end{center}
 
 下図の表示になるようにCSSを設定しなさい。
\begin{center}
 1. \raisebox{-8 \baselineskip}{\includegraphics[width=0.25\textwidth]{\CH css3.eps}}
 ２. \raisebox{-8 \baselineskip}{\includegraphics[width=0.25\textwidth]{\CH css2.eps}}
 3. \raisebox{-8\baselineskip}{\includegraphics[width=0.25\textwidth]{\CH css4.eps}}
 
\end{center}
\end{Problem}
\fi